apiVersion: v1
kind: Service
metadata:
  name: msa-register-service
spec:
  type: NodePort  # 외부에서 접근 가능하도록 설정
  ports:
    - port: {{ .Values.deploy.port.register }}
      targetPort: {{ .Values.deploy.port.register }}
      nodePort: {{ .Values.service.nodeport.register }}  # 원하는 노드 포트 (선택 사항)
  selector:
    app: {{ .Values.deploy.app.register }}
---
apiVersion: v1
kind: Service
metadata:
  name: msa-payment-service
spec:
  type: NodePort  # 외부에서 접근 가능하도록 설정
  ports:
    - port: {{ .Values.deploy.port.payment }}
      targetPort: {{ .Values.deploy.port.payment }}
      nodePort: {{ .Values.service.nodeport.payment }}  # 원하는 노드 포트 (선택 사항)
  selector:
    app: {{ .Values.deploy.app.payment }}
---
apiVersion: v1
kind: Service
metadata:
  name: msa-product-service
spec:
  type: NodePort  # 외부에서 접근 가능하도록 설정
  ports:
    - port: {{ .Values.deploy.port.product }}
      targetPort: {{ .Values.deploy.port.product }}
      nodePort: {{ .Values.service.nodeport.product }}  # 원하는 노드 포트 (선택 사항)
  selector:
    app: {{ .Values.deploy.app.product }}
---
apiVersion: v1
kind: Service
metadata:
  name: msa-statistics-service
spec:
  type: NodePort  # 외부에서 접근 가능하도록 설정
  ports:
    - port: {{ .Values.deploy.port.statistics}}
      targetPort: {{ .Values.deploy.port.statistics}}
      nodePort: {{ .Values.service.nodeport.statistics }}  # 원하는 노드 포트 (선택 사항)
  selector:
    app: {{ .Values.deploy.app.statistics }}